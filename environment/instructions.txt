You are participating in *GTOC*, a competition where the best aerospace engineers and mathematicians world wide challenge themselves to solve a “nearly-impossible” problem of interplanetary trajectory design, adapted to test the coding ability of agents like yourself.

You will be given a problem related to interplanetary trajectory design task. You must solve the task by creating an enviroment that simulates the enviroment and design a interplanetary trajectory algorithm that controls the spacecraft to produce a valid submission file.

BENCHMARK INSTRUCTIONS
------
First, please read the instructions below which are specific to our benchmark setup. Note, these instructions can be found again in `/home/instructions.txt`.

- **Competition-specific instructions**: The instructions for the competition are available in `/home/data/description.md`. Read this file to understand the problem setup for the competition you are currently solving.
- **Dataset**: The dataset files for the competition are available in `/home/data/`.
- **Submission**: The solution file must contain all trajectories of Mining Ships. It is a txt file. Each trajectory is expressed by its identification number (ship ID from 1 to N), event ID (from −4 to 60,000), epochs (t, MJD), and the histories of position (km), velocity (km/s), thrust (N), and mass (kg). The vectors of position, velocity, and thrust should be projected onto the J2000 heliocentric ecliptic Cartesian reference frame. 

Table 1  Solution File format
──────────────────────────────────────────────────────────────────────────────
Line num in file │                       Data
─────────────────┼────────────────────────────────────────────────────────────
Line 1           │ 1  0      t   rₓ  rᵧ  r_z   vₓ  vᵧ  v_z   m
Line 2           │ 1  0      t   rₓ  rᵧ  r_z   vₓ  vᵧ  v_z   m
⋮                │ ⋮
Line i           │ 1 −1      t_i  0.0 0.0 0.0
Line i + 1       │ 1 −1      t_i  Tₓ  Tᵧ  T_z
⋮                │ ⋮
Line i + j + 1   │ 1 −1      t_{i+j}  Tₓ  Tᵧ  T_z
Line i + j + 2   │ 1 −1      t_{i+j}  0.0 0.0 0.0
⋮                │ ⋮
Line k           │ 1 −2*     t_k  rₓ  rᵧ  r_z   vₓ  vᵧ  v_z   m
Line k + 1       │ 1 −2      t_k  rₓ  rᵧ  r_z   vₓ  vᵧ  v_z   m
⋮                │ ⋮
Line p           │ 1 60000†  t_p  rₓ  rᵧ  r_z   vₓ  vᵧ  v_z   m
Line p + 1       │ 1 60000   t_p  rₓ  rᵧ  r_z   vₓ  vᵧ  v_z   m
⋮                │ ⋮
Line q           │ 2  0      t   rₓ  rᵧ  r_z   vₓ  vᵧ  v_z   m
Line q + 1       │ 2  0      t   rₓ  rᵧ  r_z   vₓ  vᵧ  v_z   m
⋮                │ ⋮
──────────────────────────────────────────────────────────────────────────────
*  Asterisco indica la primera línea de una maniobra Δv.  
†  Daga (†) indica un evento discreto especial (p. ej. encendido de motor).

1. Estructura general del archivo
Cada línea contiene 10 campos numéricos separados por espacios:

php-template
Copiar
Editar
<ship_id> <event_id> <t> <rx> <ry> <rz> <vx> <vy> <vz> <m>
<ship_id> — entero positivo (1 … N).

<event_id> — entero que identifica el tipo de evento (tabla más abajo).

<t> — época juliana [días].

(rx, ry, rz) — posición heliocéntrica [km].

(vx, vy, vz) — velocidad heliocéntrica [km/s].

<m> — masa de la nave [kg].

El archivo se divide en N secciones, una por nave, donde los ship_id aparecen en orden creciente.
Las líneas con la misma época representan eventos simultáneos.

2. Significado de event_id
event_id	Evento	Nº de líneas	Comentarios breves
0	Launch desde la Tierra	2	Mismas t, r, m; cambian v (Tierra → nave)
−1	Burning arc (maniobra Δv)	≥ 4	Ver reglas especiales ⇣
−2	Flyby de Venus	2	Mismas t, r; v cumple restricciones de GA
−3	Flyby de la Tierra	2	Δm = masa de recursos descargados
−4	Flyby de Marte	2	
≥ 1 000…	ID de asteroide	2	Rendezvous: cambia m (descarga o recoge recursos)

(Ajusta el rango de IDs de asteroides según tu base de datos).

3. Reglas específicas por tipo de evento
3.1. Burning arcs (event_id = -1)
Inicio y fin

Primera y última línea: vector de empuje nulo (Tx Ty Tz) = (0 0 0).

Líneas intermedias

Segunda y penúltima: misma época que sus respectivas adyacentes, empuje ≠ 0.

Resto: distribuidas cada 1 día exactamente.

Se permite un último incremento parcial (< 1 día) entre la antepenúltima y las dos últimas líneas.

Propagación interna

El verificador interpolará el empuje con un polinomio de Lagrange de grado 3.

Plantilla mínima (4 líneas):

bash
Copiar
Editar
id -1 t₀ rx ry rz vx vy vz m          0 0 0
id -1 t₀ rx ry rz vx vy vz m          Tx Ty Tz   # mismo t₀, Tx≠0
…  (n−3 líneas con Δt = 1 día) …
id -1 t_f rx ry rz vx vy vz m         Tx Ty Tz   # penúltima, Tx≠0
id -1 t_f rx ry rz vx vy vz m         0  0  0    # última, mismo t_f
3.2. Eventos de 2 líneas (event_id = 0, -2, -3, -4 o asteroide)
Launch (0)

bash
Copiar
Editar
id 0 t r v_Earth m   # heliocéntrica de la Tierra
id 0 t r v_ship  m   # misma t, r, m; solo cambia v
Rendezvous (asteroide)

Misma t, r, v; cambia m (carga/descarga).

Flyby (−2, −3, −4)

Misma t, r; v antes/después cumple la mecánica GA.

En Earth flyby (−3) la diferencia de masas = masa entregada.

4. Plantilla completa por sección (lista de eventos)
txt
Copiar
Editar
# -------- Ship <ship_id = 1> --------
1 0      t0 r_E x y z v_E x y z m0          # Launch (2 líneas)
1 0      t0 r_E x y z v_S x y z m0
1 -1     …                                   # Burning arc (≥4 líneas)
1 -2     …                                   # Venus flyby (2 líneas)
1 12345  …                                   # Rendezvous con asteroide 12345 (2 líneas)
…
# -------- Ship <ship_id = 2> --------
2 0      t0 r_E x y z v_E x y z m0          # Nuevo launch
2 0      t0 r_E x y z v_S x y z m0

- **Submission checker**: We provide a tool for checking the validity of your submission file, in the form of a server endpoint at `http://localhost:5000/validate`. If you post a submission file to the server (e.g. `curl -X POST -F "file=@${SUBMISSION_FILE}" ${SERVER_URL}`), you will receive a response message telling you if your submission is valid or not (note that this does NOT give you a score). For your convenience, we provide a script `/home/validate_submission.sh` which can help you make this submission to the validation server.

Your submission will be graded based on the metric in the competition-specific instructions. Your goal is to achieve the best score possible on the competition task. 

Wherever there is a conflict between the points above and the competition-specific instructions in `/home/data/description.md`, the above points should always take priority since these are always true for our offline benchmark setup.
